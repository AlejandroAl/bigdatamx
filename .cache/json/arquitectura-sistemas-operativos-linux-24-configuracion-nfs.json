{
    "data": {
        "markdownRemark": {
            "html": "<h2>24. Configuración NFS</h2>\n<h3>NFS :</h3>\n<p>Es un protocolo utilizado para compartir sistemas de archivos de manera transparente entre anfitriones dentro de una red de área local. Es utilizado para sistemas de archivos distribuido.</p>\n<p>Existen tres versiones de NFS :</p>\n<ul>\n<li>NFSv2: Es la versión más antigua y mejor soportada.</li>\n<li>NFSv3: Tiene más características que NFSv2, como el manejo de archivos de tamaño variable y mejores informes de errores. Sólo es parcialmente compatible con los clientes para NFSv2.</li>\n<li>NFSv4: Es la versión más moderna, y, entre otras cosas, incluye soporte para seguridad a través de Kerberos, soporte para ACL y utiliza operaciones con descripción del estado.</li>\n</ul>\n<h3>Llamada de Procedimiento Remoto :</h3>\n<p>La llamada de procedimiento remoto (RPC) es la capa de sesión de protocolo. </p>\n<p>La ejecución de un RPC consiste en los sig. pasos:</p>\n<ol>\n<li>Activación por el programa cliente. Los parámetros de solicitud son empaquetados dentro de un\npaquete de datos.</li>\n<li>Mandando solicitudes y desempaquetamiento de los parámetros en el programa del servidor.</li>\n<li>Ejecución de la solicitud (el procedimiento) en el servidor.</li>\n<li>Empaquetar y retornar de los resultados del cliente.</li>\n<li>Desempaquetar los resultados por el cliente y continuación de los programas normales de ejecución.</li>\n</ol>\n<h3>Port Mapper :</h3>\n<p>Es un servicio el cual se encarga de controlar una tabla de mapeo en relación  de  TCP ó UDP de números de puertos.\nEL portmapper ocupa el puerto 111 en ambos TCP y UDP. </p>\n<h4>Protocolo PortMapper</h4>\n<p>Cliente y servidor ambos comunican con el portmapper vía RPC. Los procedimientos RPC define en el protocolo portmapper. No es apropiado obtener la descripción exacta de los procedimientos y el resultado de este punto. </p>\n<h3>Instalación de NFS :</h3>\n<ul>\n<li>\n<p>Centos, Fedora, Red Hat, Oracle Linux : <code>yum -y install nfs-utils</code></p>\n</li>\n<li>\n<p>Ubuntu, Debian : <code>apt-get install nfs-common nfs-kernel-server</code></p>\n</li>\n</ul>\n<h3>Configuración del servidor NFS :</h3>\n<h4>Definir los puertos utilizados por NFS :</h4>\n<ol>\n<li>\n<p>Primero se debe de editar un archivo :\nEdite el archivo /etc/sysconfig/nfs: <code>vi /etc/sysconfig/nfs</code></p>\n</li>\n<li>\n<p>Se deben de modificar o agregar los siguientes valores :</p>\n</li>\n</ol>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code>RQUOTAD_PORT=875\nLOCKD_TCPPORT=32803\nLOCKD_UDPPORT=32769\nMOUNTD_PORT=892\nSTATD_PORT=662</code></pre>\n      </div>\n<h4>Creación de directorios del Cliente NFS :</h4>\n<p>Cree los directorios que desee montar en los directorios del cliente NFS\nEjemplo :</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code># mkdir /home/machine1\n# mkdir /home/machine2\n# mkdir /home/machine3\n# mkdir /home/machine4</code></pre>\n      </div>\n<p>Los directorios que se van a crear deben de tener autorización de escritura.</p>\n<h4>Configurar exports:</h4>\n<p>Configure el archivo /etc/exports, agregando los directorios creados :</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code># nano /etc/exports\n\nY se agrega :\n\n/home/machine1 *(rw, sync)\n/home/machine2 *(rw, sync, no_wdelay, nohide)\n/home/machine3 *(rw, sync, no_root_squash)\n/home/machine4 *(rw, sync, no_root_squash)</code></pre>\n      </div>\n<p>Ĺos parámetros que se utilizan son :</p>\n<ul>\n<li>\n<p>rw : Permitir solicitudes de lectura y escritura.</p>\n</li>\n<li>\n<p>no__wdelay : Esta opción no tiene efecto si async también está configurado. El servidor NFS  retrasará la confirmación de una solicitud de escritura al disco si sospecha que otra solicitud de escritura relacionada puede estar en progreso.</p>\n</li>\n<li>\n<p>sync : Responde a las solicitudes solo después de que los cambios se hayan comprometido a un almacenamiento estable. </p>\n</li>\n<li>\n<p>async : Esta opción permite que el servidor NFS viole el protocolo NFS y responda a las solicitudes antes de que los cambios realizados por esa solicitud se hayan comprometido a un almacenamiento estable.</p>\n</li>\n<li>\n<p>root__squash : Impide que los usuarios root conectados de forma remota tengan privilegios de administrador.</p>\n</li>\n<li>\n<p>no<strong>root</strong>squash : Lo contarioa a root_squash.</p>\n</li>\n</ul>\n<p>Debe tener el parámetro no<em>root</em>squash; de lo contrario, recibirá un error.</p>\n<h4>Iniciar el servicio Portmap :</h4>\n<p>Checar el estado del servicio, es necesario que este en ejecución de otro modo iniciarlo :</p>\n<p><code># service portmap status</code></p>\n<p>Si acaso esta desactivado, lo iniciamos :<code># service portmap start</code></p>\n<h4>Iniciar el servicio NFS :</h4>\n<p>Para iniciar o reiniciar el servicio NFS :</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code># service nfs start \n# service nfs restart\n\nRecargar el servicio sin interrumpir las conexiones existentes :\n#service nfs reload\n\nPara pararlo :\n\n# service nfs stop</code></pre>\n      </div>\n<h4>Congigurar para que el servicio inicie con el Sistema :</h4>\n<p>Para que el servicio NFS se inicie automáticamente con el sistema :</p>\n<p>Comando :</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code># chkconfig --level 35 nfs on</code></pre>\n      </div>\n<h4>Comprobar los directorios de exportación :</h4>\n<p>Por último; para comprobar los directorios de exportación de NFS, utilice el siguiente comando :</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-none\"><code># showmount -e <ip_servidor></code></pre>\n      </div>\n<h4>Para más información:</h4>\n<!-- Please add any articles you think might be helpful to read before writing the article -->\n<p>-Configuración del servidor NFS :   <a href='https://www.ibm.com/support/knowledgecenter/es/SSFTN5_8.5.6/com.ibm.wbpm.admin.doc/topics/tadm_recovery_config_nfs.html' target='_blank' rel='nofollow'>https://www.ibm.com/support/knowledgecenter/es/SSFTN5<em>8.5.6/com.ibm.wbpm.admin.doc/topics/tadm</em>recovery<em>config</em>nfs.html</a></p>\n<ul>\n<li>\n<p>Configuración de servidor NFS. :\n<a href='http://www.alcancelibre.org/staticpages/index.php/12-como-nfs' target='_blank' rel='nofollow'>http://www.alcancelibre.org/staticpages/index.php/12-como-nfs</a> </p>\n</li>\n<li>\n<p>Exports :\n<a href='https://linux.die.net/man/5/exports' target='_blank' rel='nofollow'>https://linux.die.net/man/5/exports</a> </p>\n</li>\n<li>\n<p>Red Hat Enterprise Linux 4: Manual de referencia Sistema de archivos de red (NFS) :\n<a href='http://web.mit.edu/rhel-doc/4/RH-DOCS/rhel-rg-es-4/s1-nfs-server-export.html' target='_blank' rel='nofollow'>http://web.mit.edu/rhel-doc/4/RH-DOCS/rhel-rg-es-4/s1-nfs-server-export.html</a></p>\n</li>\n<li>\n<p>Configurar NFS :\n<a href='https://linuxconfig.org/how-to-configure-nfs-on-linux \n' target='_blank' rel='nofollow'>https://linuxconfig.org/how-to-configure-nfs-on-linux\ns</a> </p>\n</li>\n</ul>",
            "fields": {
                "slug": "/arquitectura-sistemas-operativos-linux/24-configuracion-nfs/"
            },
            "frontmatter": {
                "title": "24. Configuración NFS"
            }
        }
    },
    "pathContext": {
        "slug": "/arquitectura-sistemas-operativos-linux/24-configuracion-nfs/"
    }
}